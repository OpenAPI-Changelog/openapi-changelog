Version {{ version/new }}
{{~#if version/changed/major}}
 - MAJOR
{{else}}
  {{#if version/changed/minor}}
 - MINOR
  {{else}}
    {{#if version/changed/patch}}
 - PATCH
    {{/if}}
  {{/if}}
{{/if}}

{{#if breaking }}
> BREAKING CHANGES
  {{#each breaking}}
    {{!-- Removed operations --}}
    {{#if removed}}
  - Removed operation {{upper method }} {{ path }}
    {{/if}}
    {{#if changed}}
  - In operation {{upper method }} {{ path }}
      {{#each parameters}}
        {{!-- Removed parameters --}}
        {{#if removed}}
    - Removed parameter {{ name }}{{#if old/description}}: {{ old/description }}{{/if}}
        {{/if}}
        {{!-- Changed parameters --}}
        {{#if changed}}
    - Changed parameter {{ name }}{{#if old/description}}: {{ old/description }}{{/if}}
        {{/if}}
      {{/each}}
      {{#each responses}}
        {{!-- Removed responses --}}
        {{#if removed}}
    - Removed response {{ code }}{{#if old/description}}: {{ old/description }}{{/if}}
        {{/if}}
        {{#if changed}}
    - Changed response {{ code }}{{#if old/description}}: {{ old/description }}{{/if}}
        {{/if}}
      {{/each}}
    {{/if}}
  {{/each}}
{{/if}}

{{#if nonBreaking}}
> Changes
  {{#each nonBreaking}}
    {{!-- New operations --}}
    {{#if added}}
  - Added operation {{ upper method }} {{ path ~}}{{#if new/summary}}: {{ new/summary }}{{/if}}
      {{#if new/description}}
    {{ new/description}}
      {{/if}}
      {{#if new/parameters}}
    -> Parameters: 
        {{#each new/parameters}}
      - [{{in}}] {{ name }}{{#if description}}: {{ description }}{{/if}}
        {{/each}}
      {{/if}}
      {{#if new/responses}}
    -> Responses: 
        {{#each new/responses}}
      - {{ @key }}{{#if this/description}}: {{ this/description }}{{/if}}
        {{/each}}
      {{/if}}
    {{/if}}
    {{!-- Existing operations --}}
    {{#if changed }}
      {{#if deprecated}}
  - [DEPRECATED] Operation {{upper method }} {{ path }} 
      {{else}}
  - In operation {{upper method }} {{ path }}
      {{/if}}
      {{!-- Parameters --}}
      {{#each parameters}}
        {{#if added}}
    - Added parameter {{ name }}{{#if new/description}}: {{ new/description }}{{/if}}
        {{/if}}
        {{#if deprecated}}
    - Deprecated parameter {{ name }}{{#if new/description}}: {{ new/description }}{{/if}}
        {{/if}}
      {{/each}}
      {{!-- Responses --}}
      {{#each responses}}
        {{#if added}}
    - Added response {{ code }}
        {{/if}}
      {{/each}}
    {{/if}}
  {{/each}}
{{/if}}